<p-table #dt
         (selectionChange)="onSelectionChange($event)"
         [columns]="selectedColumns"
         [globalFilterFields]="['name']"
         [paginator]="true"
         [rowsPerPageOptions]="[10,25,50]" [rows]="10"
         [showCurrentPageReport]="true"
         [value]="_collection"
         currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
         stateKey="statedemo-local" stateStorage="local"
         styleClass="p-datatable-customers">
  <ng-template pTemplate="caption">
    <div class="p-d-flex">
      <button (click)="clear(dt); inputElementFilter.value = ''" class="p-button-outlined" icon="pi pi-filter-slash" label="Clear" pButton></button>
      <span class="p-input-icon-left p-ml-auto">
          <i class="pi pi-search"></i>
          <input #inputElementFilter (input)="dt.filterGlobal($event.target.value, 'contains')" pInputText placeholder="Search keyword" type="text"/>
      </span>
      <p-multiSelect [options]="cols" [(ngModel)]="selectedColumns" optionLabel="header"
                     selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}" placeholder="Choose Columns"></p-multiSelect>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 11rem">quantity</th>
      <th *ngFor="let col of _selectedColumns">
        {{col.header}}
      </th>
    </tr>
<!--    <tr>-->
<!--      <th>-->
<!--      </th>-->
<!--      <th>-->
<!--        <p-columnFilter field="name" type="text"></p-columnFilter>-->
<!--      </th>-->
<!--      <th>-->
<!--        <p-columnFilter field="schools" type="text"></p-columnFilter>-->
<!--      </th>-->
<!--      <th>-->
<!--        <p-columnFilter field="castingTime" type="text"></p-columnFilter>-->
<!--      </th>-->
<!--      <th>-->
<!--        <p-columnFilter field="range" type="text"></p-columnFilter>-->
<!--      </th>-->
<!--    </tr>-->
  </ng-template>
  <ng-template let-item pTemplate="body">
    <tr>
      <td>
        <dnd-data-qt-stepper [spellsInventory]="item.spells || EMPTY" (change)="onInput($event, item)"></dnd-data-qt-stepper>
      </td>
      <th *ngFor="let col of _selectedColumns">
        {{item[col.field]}}
      </th>
    </tr>
  </ng-template>
</p-table>
